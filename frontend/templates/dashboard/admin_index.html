<!DOCTYPE html>
<html lang="en">
{% load staticfiles %}
{% load i18n %}
<head>
    <meta charset="UTF-8">
    <meta name="description" content="">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- The above 4 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <!-- Title  -->
    <title>{% trans "SECUROLOGY" %}</title>
    <!-- Favicon  -->
    <link rel="icon" href="{% static "/welcome_page/images/securoloynet_logo.png" %}">
    <!-- Style CSS -->
    <link rel="stylesheet" href="{% static "/plugins/landingpage/style.css" %}">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="{% static "bower_components/bootstrap/dist/css/bootstrap.min.css" %}">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="{% static "bower_components/font-awesome/css/font-awesome.min.css" %}">
    <!-- ICheck -->
    <link rel="stylesheet" href="{% static "plugins/iCheck/all.css" %}">
    <!-- Swipe core CSS -->
    <link href="{% static "plugins/calling/css/swipe.min.css" %}" type="text/css" rel="stylesheet">
    <!-- Theme style -->
    <link rel="stylesheet" href="{% static "bower_components/select2/dist/css/select2.min.css" %}">
    <link rel="stylesheet" href="{% static "dist/css/AdminLTE.min.css" %}">
    <!-- AdminLTE Skins. We have chosen the skin-blue for this starter
          page. However, you can choose any other skin. Make sure you
          apply the skin class to the body tag so the changes take effect. -->
    <link rel="stylesheet" href="{% static "dist/css/skins/_all-skins.min.css" %}">
    <!-- Fancy CSS -->
    <link rel="stylesheet" href="{% static "plugins/fancybox/jquery.fancybox.css" %}">
    <!-- sweet alert CSS
		============================================ -->
    <link rel="stylesheet" href="{% static "plugins/dialog/sweetalert/sweetalert.css" %}">
    <!-- Modal CSS -->
    <link rel="stylesheet" href="{% static "css/modals.css" %}">
    <link rel="stylesheet" href="{% static "css/form-file.css" %}">
    <!-- MANUAL SWITCH CSS -->
    <link rel="stylesheet" href="{% static "plugins/switch/component-custom-switch.min.css" %}">
    <!-- notifications CSS -->
    <link rel="stylesheet" href="{% static "css/notifications/Lobibox.min.css" %}">
    <link rel="stylesheet" href="{% static "css/notifications/notifications.css" %}">
    <link rel="stylesheet" href="{% static "js/bootstrap-wysihtml5/bootstrap3-wysihtml5.min.css" %}">
    <link rel="stylesheet" href="{% static "css/store.css" %}">
    <!-- calendar CSS -->
    <link rel="stylesheet" href="{% static "plugins/daypilot/css/month_transparent.css" %}">
    <link rel="stylesheet" href="{% static "plugins/daypilot/css/calendar_transparent.css" %}">
    <!-- Datepicker CSS -->
    <link type="text/css" rel="stylesheet" href="{% static "css/bootstrap-datetimepicker.css" %}">
    <!-- Custom style -->
    <link rel="stylesheet" href="{% static "/css/dashboard.css" %}">

    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.20/css/dataTables.jqueryui.min.css">

    <link rel="stylesheet" href="{% static "css/datatables/select.dataTables.min.css" %}">
    <link rel="stylesheet" href="https://cdn.datatables.net/colreorder/1.5.2/css/colReorder.jqueryui.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/fixedcolumns/3.3.0/css/fixedColumns.dataTables.min.css">

</head>

<body>
    <style>
        .height-200 {
            height: 200px !important;
        }

        .star-back-color {
            background-color: #0b5669 !important
        }

        .modal-title{
            width: 100%;
            color: white;
            font-weight: bold;
            font-size: x-large;
        }

        .modal-content {
            background-color: #f3f3f3;
        }

        .text-box-title {
            padding-top: 5px;
        }

        .form-group-inner {
            margin-bottom: 5px;
        }

        .main{
            position: absolute;
            top: 300px;
            background: transparent;
        }
        .main .call {
            margin-left: 40%;
        }
        .hand {
            cursor: pointer;
        }
        .navbar .nav-item .nav-link .label {
            position: relative;
            top: 3px;
            right: 3px;
            text-align: center;
            font-size: 9px;
            padding: 2px 0;
            line-height: .9;
        }
        .btn {
            border: none !important;
        }
        .category-label {
            padding: 10px 0;
        }
        .month_default_event {
            margin-top: 15px;
            text-align: center;
        }
    </style>
    <!-- Preloader Start -->
    <div id="preloader">
        <div class="preload-content">
            <div id="world-load"></div>
        </div>
    </div>
    <!-- Preloader End -->

    <!-- ***** Header Area Start ***** -->
    <header class="header-area sticky">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <nav class="navbar navbar-expand-lg" style="border-top: 0; border-left: 0; border-right: 0; margin: 0;">
                        <!-- Logo -->
                        <a class="navbar-brand" href="/index"><img src="{% static "/img/securoloynet_logo.png" %}" alt="Logo" style="width: 200px;"></a>
                        <!-- Navbar Toggler -->
                        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#worldNav" aria-controls="worldNav" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
                        <!-- Navbar -->
                        <div class="collapse navbar-collapse" id="worldNav">
                            <ul class="navbar-nav ml-auto pull-right">
{#                                <li class="nav-item active">#}
{#                                    <a class="nav-link" href="/index">{% trans "Dashboards" %} <span class="sr-only"></span></a>#}
{#                                </li>#}
                                <li class="nav-item">
                                    <a class="nav-link" href="#" onclick="on_click_menu('message/messages_view')">
                                        <i class="fa fa-commenting-o"></i><span class="label" id="total_unread_message_status" style="display: {% if unread_messages_cnt > 0 %}''{% else %}none{% endif %}"><i class="fa fa-circle text-danger"></i></span>{% trans "Messages" %}
                                        <span class="sr-only"></span>
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="#" onclick="on_click_menu('users/users_view')"><i class="fa fa-users"></i>&nbsp;{% trans "Users" %} <span class="sr-only"></span></a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="#" onclick="on_click_menu('adminsettings/orders_view')"><i class="fa fa-bars"></i>&nbsp;{% trans "Orders" %} <span class="sr-only"></span></a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="#" onclick="on_click_menu('adminsettings/softwares_view')"><i class="fa fa-cubes"></i>&nbsp;{% trans "Softwares" %} <span class="sr-only"></span></a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="#" onclick="on_click_menu('adminsettings/services_view')"><i class="fa fa-diamond"></i>&nbsp;{% trans "Services" %} <span class="sr-only"></span></a>
                                </li>
                                <li class="nav-item dropdown">
                                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Hi, {{ username }}</a>
                                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                        <a class="dropdown-item" href="#" onclick="on_open_profile_modal()"><i class="fa big-icon fa-user"></i> {% trans "UserInfo" %}</a>
                                        <a class="dropdown-item" href="#" onclick="on_open_setting_modal()"><i class="fa big-icon fa-gear"></i> {% trans "Language" %}</a>
                                        <a class="dropdown-item" href="#" onclick="on_click_sign_out()"><i class="fa big-icon fa-power-off"></i> {% trans "Logout" %}</a>
{#                                        <a class="dropdown-item" href="/logout"><i class="fa big-icon fa-power-off"></i> {% trans "Logout" %}</a>#}
                                    </div>
                                </li>
                            </ul>
                            <!-- Search Form  -->
                        </div>
                    </nav>
                </div>
            </div>
        </div>
    </header>
    <!-- ***** Header Area End ***** -->

    <!-- ********** Hero Area Start ********** -->
{#    <div class="hero-area height-200 bg-img background-overlay" style="background-image: url('{% static '/plugins/landingpage/img/blog-img/bg4.jpg' %}');"></div>#}
    <!-- ********** Hero Area End ********** -->

    <div class="regular-page-wrap" id="main_content">

    </div>

    <!-- ***** Footer Area Start ***** -->
    <footer class="footer-area" style="padding: 10px 0!important;">
        <div class="container">
            <div class="row">
                <div class="col-12 col-md-4">
                    <div class="footer-single-widget">
                        <a href="#"><img src="{% static "img/securoloynet_logo.png" %}" alt="" style="width: 200px;"></a>
                    </div>
                </div>
                <div class="col-12 col-md-4">
                    <div class="footer-single-widget">
                        <div class="copywrite-text">
                            <p>
                                {% trans "Copyright &copy;2020 All rights reserved" %}
{#                                Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved#}
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!-- ***** Footer Area End ***** -->
    <div id="loading" style="position: absolute; left: 50%; top: 35%; z-index: 99999; display:None;">
        <img src="{% static "img/loading.gif" %}" style="width: 50%">
    </div>
    <div id="waiting" class=""></div>

    {% include "dashboard/profile.html" %}
    {% include "dashboard/language.html" %}
    {% include "mainjs.html" %}
    {% include "videochatting/receiving_modal.html" %}
    {% include "videochatting/videochatting_modal.html" %}

    <script src="{% static "bower_components/jquery/dist/jquery.min.js" %}"></script>
    <!-- jQuery Cookie 1.4.1 -->
    <script src="{% static "/bower_components/jquery/dist/jquery.cookie.js" %}"></script>
    <!-- jQuery UI 1.11.4 -->
    <script src="{% static "bower_components/jquery-ui/jquery-ui.min.js" %}"></script>
    <!-- Bootstrap 3.3.7 -->
    <script src="{% static "bower_components/bootstrap/dist/js/bootstrap.min.js" %}"></script>
    <!-- Select2 -->
    <script src="{% static "bower_components/select2/dist/js/select2.full.min.js" %}"></script>
    <!-- DatePicker -->
    <script src="{% static "js/bootstrap-datepicker.js" %}"></script>
    <!-- notification JS -->
    <script src="{% static "js/notifications/Lobibox.js" %}"></script>
    <!-- Plugins js -->
    <script src="{% static "/plugins/landingpage/js/plugins.js" %}"></script>
    <!-- Active js -->
    <script src="{% static "/plugins/landingpage/js/active.js" %}"></script>
    <!-- Login js -->
    <script src="{% static "/js/login.js" %}"></script>
    <!-- Fancy js -->
    <script src="{% static "plugins/fancybox/jquery.fancybox.js" %}"></script>
    <!-- swal confirmation JS============================================ -->
    <script src="{% static "plugins/dialog/sweetalert/sweetalert.min.js" %}"></script>
    <!-- Datatable js -->
    <script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.20/js/dataTables.jqueryui.min.js"></script>
    <script src="{% static "js/datatables/dataTables.select.min.js" %}"></script>
    <script src="https://cdn.datatables.net/fixedcolumns/3.3.0/js/dataTables.fixedColumns.min.js"></script>
    <script src="{% static "js/datatables/ColReorderWithResize.js" %}"></script>
    <!-- Calendar -->
    <script src="{% static "plugins/daypilot/js/daypilot-all.min.js" %}"></script>
    <!-- DatePicker -->
    <script src="{% static "js/moment.js" %}"></script>
    <script src="{% static "js/bootstrap-datetimepicker.min.js" %}"></script>

    <!-- Placed at the end of the document so the pages load faster -->
    <script>window.jQuery || document.write('<script src="{% static "plugins/calling/js/jquery-3.3.1.slim.min.js" %}"><\/script>')</script>
    <script src="{% static "plugins/calling/js/vendor/popper.min.js" %}"></script>

    <!-- Optional JavaScript -->
    <script src="{% static "js/webrtc_adapter.js" %}"></script>
    {% include "chatjs.html" %}

    <script>
        var calling_user, pending_message, calling_status=0;
        var records_table;
        var total_unread_messages_cnt = {{ unread_messages_cnt }};
        var selected_userid = 0;
        var selected_session_type = "registered";
        on_click_menu('message/messages_view');
        $(document).ready(function(){
            on_click_menu("");
            $.ajaxSetup({
                beforeSend:function (xhr,settings) {
                    xhr.setRequestHeader('X-CSRFtoken','{{ csrf_token }}');
                }
            });
        });
        /*
        $(document).ready(function () {
            //Initialize Select2 Elements
            $('.select2').select2();

            var height = (window.innerHeight - 314) + "px";
            records_table = $('#table').DataTable({
                dom: '<"top"Rf<"clear">>rt<"bottom"lip<"clear">>',
                lengthMenu: [[20, 50, 100], [20, 50, 100]],
                pageLength: 50,
                scrollY: height,
                columnDefs: [
                    {
                        orderable: false,
                        className: 'select-checkbox',
                        width: "2%",
                        targets: 0
                    }],
                select: {
                    style: 'os',
                    selector: 'td:first-child'
                },
                order: [
                    [1, 'asc']
                ]
            });
            var tableElement = document.getElementsByClassName('dataTable');
            tableElement[0].id = "table";

            $('#table thead').on("click", "th.select-checkbox", function () {
                if (total_select % 2 === 1) {
                    records_table.rows().deselect();
                    $("#table thead tr").removeClass("selected");
                } else {
                    records_table.rows().select();
                    $("#table thead tr").addClass("selected");
                }

                total_select++;
            });

            $('a.toggle-vis').on('click', function (e) {
                e.preventDefault();
                e.stopPropagation();

                // Get the column API object
                var column = records_table.column($(this).attr('data-column'));

                // Toggle the visibility
                column.visible(!column.visible());
            });


            {% if admin_login_from_email == 1 %}
                on_click_menu('message/messages_view');
            {% endif %}
        });
        */

        function open_modal(modal_name){
            $("#" + modal_name).addClass("in");
            $("#" + modal_name).css("display", "block");
            $("#waiting").addClass("modal-backdrop fade in");
            $(document.body).addClass("modal-open");
        }

        function close_modal(modal_name){
            $("#" + modal_name).removeClass("in");
            $("#" + modal_name).css("display", "none");
            $("#waiting").removeClass("modal-backdrop fade in");
            $(document.body).removeClass("modal-open");
        }

        function on_open_profile_modal(){
            open_modal("user_profile_modal");
            $(".select2").select2();
        }

        function on_open_setting_modal(){
            open_modal("language_setting_modal");
        }

        function accessCookie(cookieName) {
            var name = cookieName + "=";
            var allCookieArray = document.cookie.split(';');
            for (var i = 0; i < allCookieArray.length; i++) {
                var temp = allCookieArray[i].trim();
                if (temp.indexOf(name) === 0)
                    return temp.substring(name.length, temp.length);
            }
            return "";
        }

        function createCookie(cookieName, cookieValue, daysToExpire) {
            var date = new Date();
            date.setTime(date.getTime() + (daysToExpire * 24 * 60 * 60 * 1000));
            document.cookie = cookieName + "=" + cookieValue + "; expires=" + date.toGMTString();
        }

        function on_click_menu(url){
            selected_userid = 0;
            if (url === "") {
                url = accessCookie("pre_url");
            }

            createCookie("pre_url", url, 1);
            $("#main_content").load(url);
        }

        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }

    </script>
</body>

</html>